<?xml version="1.0" encoding="UTF-8"?>
<!-- status="TRACE"这个用于设置log4j2自身内部的信息输出，可以不设置，当设置成trace时，你会看到log4j2内部各种详细输出。 -->
<!-- ALL < TRACE < DEBUG < INFO < WARN < ERROR < FATAL < OFF。 All:最低等级的，用于打开所有日志记录. 
	Trace:是追踪，就是程序推进一下. Debug:指出细粒度信息事件对调试应用程序是非常有帮助的. Info:消息在粗粒度级别上突出强调应用程序的运行过程. 
	Warn:输出警告及warn以下级别的日志. Error:输出错误信息日志. Fatal:输出每个严重的错误事件将会导致应用程序的退出的日志. OFF:最高等级的，用于关闭所有日志记录. -->
<configuration status="off" monitorInterval="10">
	<properties>
		<property name="LOG_HOME">${web:rootDir}/log</property>
		<property name="FILE_NAME">app</property>
	</properties>

	<Appenders>
		<!-- 控制台日志输出 -->
		<Console name="Console" target="SYSTEM_OUT">
			<!--过滤器：控制台只输出level及以上级别的信息（onMatch），其他的直接拒绝（onMismatch） -->
			<ThresholdFilter level="INFO" onMatch="ACCEPT"
				onMismatch="DENY" />
			<PatternLayout pattern="[%-5p] %d %c - %m%n" />
		</Console>
		<File name="testLog" fileName="${LOG_HOME}/test.log" append="true">
			<PatternLayout pattern="[%-5p] %d %c - %m%n" />
		</File>
		<!-- 循环文件日志输出 -->
		<RollingRandomAccessFile name="running-log"
			fileName="${LOG_HOME}/${FILE_NAME}.log"
			filePattern="${LOG_HOME}/$${date:yyyy-MM}/${FILE_NAME}-%d{yyyy-MM-dd}-%i.log.gz">
			<PatternLayout pattern="[%-5p] %d %c - %m%n" />
			<Policies>
				<TimeBasedTriggeringPolicy />
				<SizeBasedTriggeringPolicy size="50 MB" />
			</Policies>
			<DefaultRolloverStrategy max="20" />
		</RollingRandomAccessFile>
	</Appenders>
	<!-- trace<debug<info<warn<error<fatal -->
	<Loggers>
		<Root level="debug">
			<AppenderRef ref="Console" />
			<AppenderRef ref="testLog" />
			<AppenderRef ref="running-log" />
		</Root>
	</Loggers>
</configuration>  